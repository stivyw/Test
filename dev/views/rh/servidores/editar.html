<div ng-init="tab.title='Servidores'"></div>
<div ng-init="tab.icon='glyphicon glyphicon-edit'"></div>
<div ng-init="edit=Data.edit({url:'model/Servidor', scope: tab}).load(tab.id, ['vaga.orgao','vaga.cargo'])"></div>
<div ng-if="!tab.id" ng-init="tab.stat=2"></div>
<div ng-if="!tab.id" ng-init="edit.disabled=false"></div>

<bs-alert type="danger" arr="edit.res.error">
	<strong>Ops!</strong> Erro ao tentar concluir a ação, corrija os erros mostrados a seguir e tente novamente ou contate o <a class="alert-link" href="http://caririweb.com/suport" target="_blank">suporte</a>.
</bs-alert>

<div class="alert alert-success" role="alert" ng-if="edit.res.ok">
	<strong>Ok!</strong> Dados gravados com sucesso.
</div>

<div class="alert alert-warning" ng-if="edit.res.item.situacao=='I'">
	<strong><span class="glyphicon glyphicon-exclamation-sign"></span></strong>
	O servidor <strong>{{edit.form.nome}}</strong> está inativo. Na aba eventos, você pode ver quando ele foi desativado.
</div>

<ul class="nav nav-tabs" role="tablist">
	<li ng-class="{active:SelfTab==1}"><a ng-click="SelfTab=1" href="javascript:void(0);" ng-init="SelfTab=1">Dados Pessoais</a></li>
	<li ng-class="{active:SelfTab==2}"><a ng-click="SelfTab=2" href="javascript:void(0);">Dados Residênciais</a></li>
	<li ng-class="{active:SelfTab==3}"><a ng-click="SelfTab=3" href="javascript:void(0);">Dados Funcionais</a></li>
	<li ng-class="{active:SelfTab==4}"><a ng-click="SelfTab=4" href="javascript:void(0);">Lotação</a></li>
	<li ng-class="{active:SelfTab==5}"><a ng-click="SelfTab=5" href="javascript:void(0);">Anexos</a></li>
</ul>


<div class="tab-content">
	<div ng-class="{active:SelfTab==1}" class="tab-pane">
		<!-- Pessoais -->
		<div class="row">
			<bs-txt disabled="edit.disabled" class="col-md-6" md="edit.form.nome" label="Nome" >Informe o nome do servidor</bs-txt>
			<bs-sel disabled="edit.disabled" class="col-md-2" md="edit.form.estado_civil" label="Estado Civil" opts="Data.CFG.SELECTS.ESTADO_CIVIL"></bs-sel>
			<bs-rad disabled="edit.disabled" class="col-md-3" md="edit.form.sexo" label="Sexo" opts="Data.CFG.SELECTS.SEXO" >Sexo do servidor</bs-rad>

		</div>
		<div class="row">
			<bs-txt disabled="edit.disabled" class="col-md-6" md="edit.form.filiacao_mae" label="Nome da mãe" >Nome da mãe do servidor</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-6" md="edit.form.filiacao_pai" label="Nome do pai" >Nome do pai do servidor</bs-txt>
		</div>
		<div class="row">
			<bs-cal disabled="edit.disabled" class="col-md-2" md="edit.form.data_nasc" label="Data de Nascimento" min="01/01/1850" max="today">Ex: 06/07/1987</bs-cal>
			<bs-txt disabled="edit.disabled" class="col-md-3" md="edit.form.nacionalidade" label="Nacionalidade" >Nacionalidade do Servidor. Ex: Brasileiro</bs-txt>
			<bs-sel disabled="edit.disabled" class="col-md-2" md="edit.form.end_uf" label="Estado" opts="Data.CFG.SELECTS.UFS"></bs-sel>
			<bs-sel disabled="edit.disabled" class="col-md-2" md="edit.form.municipio_nascimento" label="Município de nascimento" opts="Data.CFG.SELECTS.MUNICIPIOS[edit.form.end_uf]">{{edit.form.municipio_nascimento}}</bs-sel>

		</div>
		<div class="row">
			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.tel1" label="Telefone 1" >Telefone de contato do Servidor</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.tel2" label="Telefone 2" >Telefone de contato do Servidor</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-4" md="edit.form.mail" label="Email" >Ex: servidor@gmail.com</bs-txt>
		</div>
		<div class="row">
			<bs-sel disabled="edit.disabled" class="col-md-2" md="edit.form.nivel_esc" label="Escolaridade" opts="Data.CFG.SELECTS.ESCOLARIDADE"></bs-sel>
			<bs-txt disabled="edit.disabled" class="col-md-3" md="edit.form.cons_classe" label="Conselho de classe" >Insira o conselho de classe (caso possua) do Servidor. Ex: Conselho Regional de Engenharia</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-1" md="edit.form.cons_classe_cod" label="Nº" >Ex: 1235</bs-txt>
		</div>
	</div><!-- Fim Pessoais -->
	<div ng-class="{active:SelfTab==2}" class="tab-pane">
	<!-- Residenciais -->
		<div class="row">
			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.end_cep" label="CEP" >
				<a href="http://www.buscacep.correios.com.br/"target="_blank"><small><u><i>Buscar CEP</i></u></small></a>
			</bs-txt>
			<bs-sel disabled="edit.disabled" class="col-md-2" md="edit.form.end_tipo" label="Tipo de logradouro:" opts="Data.CFG.SELECTS.TPS_LOGRADOURO">Tipo de logradouro de residência do Servidor</bs-sel>
			<bs-txt disabled="edit.disabled" class="col-md-4" md="edit.form.end_logradouro" label="Logradouro" >Logradouro de residência do Servidor</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-3" md="edit.form.end_bairro" label="Bairro" >Bairro de residência do Servidor</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-1" md="edit.form.end_numero" label="Número" >Ex: S/N</bs-txt>
		</div>
		<div class="row">
			<bs-txt disabled="edit.disabled" class="col-md-4" md="edit.form.end_cidade" label="Município" >Município de residência do Servidor</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-6" md="edit.form.end_complemento" label="Complemento" >Complemento de residência do Servidor</bs-txt>
		</div>
	</div><!-- Fim Residênciais -->
	<div ng-class="{active:SelfTab==3}" class="tab-pane">
		<div class="row">
			<bs-txt disabled="edit.disabled" class="col-sm-2" md="edit.form.matricula" label="Cod. Matrícula" >Cod. Matrícula do servidor</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.salario" label="Salário" >Salário do Servidor</bs-txt>
			<!--div class="col-md-2">
				<label>Salário do Servidor</label>
				<div class="input-group">
				  <input ng-disabled="edit.disabled" ng-model="edit.form.salario" type="text" class="form-control" placeholder="Salário">
				  <span class="input-group-btn">
				    <button  ng-disabled="edit.disabled" class="btn btn-default" ng-model="">Mudar</button>
				  </span>
				</div>
				<span class="help-block">&nbsp;</span>
			</div-->

			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.carga_horaria" label="Carga Horária" >Carga horária do Servidor</bs-txt>
		</div><!-- Fim da leitura os campos -->
		
		<div class="row"><!-- Funcionais -->
			<bs-cal disabled="edit.disabled" class="col-md-2" md="edit.form.data_admissao" label="Data de admissão" >Data de admissão do Servidor</bs-cal>

			<bs-sel disabled="edit.disabled" class="col-md-2" md="edit.form.tipo_admissao" label="Tipo de admissão"
				opts="['Selecione...', 'Cargo em comissão', 'Concurso público', 'Contrato temporario', 'Eletivo', 'Estatuto', 'Outro']"></bs-sel>
			<bs-rad disabled="edit.disabled" class="col-md-2" md="edit.form.situacao" label="Situação" opts="{A:'Ativo',I:'Inativo'}" ></bs-rad>
		</div>
		<div class="row">
			<bs-sel disabled="edit.disabled" class="col-md-2" md="edit.form.tipo_admissao" label="Tipo de admissão"
				opts="['Selecione...', 'Cargo em comissão', 'Concurso público', 'Contrato temporario', 'Eletivo', 'Estatuto', 'Outro']"></bs-sel>
			<div ng-if="edit.form.tipo_admissao==3">
<bs-cal disabled="edit.disabled" class="col-md-2" md="edit.form.contratotemp_ini" label="Início do contrato" >Contrato temp Ini</bs-cal>
<bs-cal disabled="edit.disabled" class="col-md-2" md="edit.form.contratotemp_fim" label="Fim do contrato" >Contrato temp Fim</bs-cal>
			</div>

		</div>
		<div class="row">
			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.ordem" label="Ordem" >Ordem</bs-txt>
			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.serie" label="Série" >Série</bs-txt>

			<bs-txt disabled="edit.disabled" class="col-md-2" md="edit.form.tipo_previdencia" label="Tipo de Previdência" >Tipo de Previdência do Servidor</bs-txt>
		</div><!-- Fim Funcionais -->
	</div>

	<div ng-class="{active:SelfTab==4}" class="tab-pane">
	<!-- Lotação -->
		<div class="row">
			<div class="col-xs-4">
				<label>Secretaria/Órgão</label>
				<input type="text" class="form-control" value="{{edit.pseudo.vaga.orgao.nome}}" readonly>
				<span class="help-block">Para editar vá até o menu RH > Secretaria/Órgão</span>
			</div>
			<div class="col-xs-4">
				<label>Unidade</label>
				<input type="text" class="form-control" value="{{edit.pseudo.vaga.unidade.nome}}" readonly/>
				<span class="help-block">Para editar vá até o menu RH > Unidades</span>
			</div>

		</div>
		<div class="row">
			<div class="col-xs-4">
				<label>Cargo</label>
				<input type="text" class="form-control" value="{{edit.pseudo.vaga.cargo.nome}}" readonly/>
				<span class="help-block">Para editar vá até o menu RH > Cargos</span>
			</div>

			<div class="col-xs-4">
				<label>Tipo de Cargo</label>
				<input type="text" class="form-control" value="{{edit.pseudo.vaga.cargo.tipo}}" readonly/>
				<span class="help-block">&nbsp;</span>
			</div>
		</div>
	</div>
<!-- Anexos -->
	<div ng-class="{active:SelfTab==5}" class="tab-pane">
		<span class="help-block">&nbsp;</span>
		<div class="row">
			<div class="col-xs-12">
				<legend>
					<strong>Selecione os documentos entregues pelo Servidor</strong>
				</legend>
			</div>
		</div>
		<table class="table table-hover">
			<thead>
				<tr>
					<th>Documentos</th>
					<th width="40%"></th>
				</tr>
			</thead>
			<tbody>
<tr ng-class="{danger:!edit.form.media.cpf}" >
	<td>RG</td>
	<td><bs-upl disabled="disabled" md="edit.form.media.rg" ></bs-upl>
</tr>
<tr ng-class="{danger:!edit.form.media.cpf}" >
	<td>CPF</td>
	<td><bs-upl disabled="disabled" md="edit.form.media.cpf" ></bs-upl>
</tr>
<tr ng-class="{danger:!edit.form.media.cp_residencia}" >
	<td>Comprovante de residência</td>
	<td><bs-upl disabled="disabled" md="edit.form.media.cp_residencia" ></bs-upl>
</tr>
<tr ng-class="{danger:!edit.form.media.ctps}" ><td>CTPS</td>
	<td><bs-upl disabled="disabled" md="edit.form.media.ctps" ></bs-upl>
</tr>
<tr ng-class="{danger:!edit.form.media.titulo}" >
	<td>Título de eleitor</td>
	<td><bs-upl disabled="disabled" md="edit.form.media.titulo" ></bs-upl>
</tr>
<tr ng-class="{danger:!edit.form.media.diploma_medio}" >
	<td>Diploma de nível médio</td>
	<td><bs-upl disabled="disabled" md="edit.form.media.diploma_medio" ></bs-upl>
</tr>
<tr ng-class="{danger:!edit.form.media.diploma_superior}" >
	<td>Diploma de nível superior</td>
	<td><bs-upl disabled="disabled" md="edit.form.media.diploma_superior" ></bs-upl>
</tr>
<tr ng-class="{danger:!edit.form.media.foto}" >
	<td>Foto 3x4</td><td>
	<bs-upl disabled="disabled" md="edit.form.media.foto" ></bs-upl>
</tr>

				</tr>
			</tbody>
		</table>
	</div><!-- Fim anexos -->
	<bs-footer class="footer" align="right">
		<button ng-disabled="edit.disabled" class="btn btn-small btn-primary" data-animation="am-fade-and-slide-top"
			data-template="views/rh/servidores/modal.lotar.html" bs-modal='{"name":"Padre Cícero","cpf":"123.456.789-10","secretaria":"Secretaria da Educação","unidade":"Unidade tal","cargo":"Professor","cargo_tp":"Tipo do Cargo"}'>
			Lotar
		</button>
	</bs-footer>
</div>
